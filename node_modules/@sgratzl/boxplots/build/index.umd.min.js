!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).BoxPlots={})}(this,(function(e){"use strict";const n=Math.sqrt(2*Math.PI);function t(e){const t=e.items.length,r=function(e,n,t){let r=Math.sqrt(function(e,n){return e*n/(n-1)}(n,t));return"number"==typeof e&&(r=Math.min(r,e/1.34)),1.06*r*Math.pow(t,-.2)}(e.iqr,e.variance,t);return i=>{let o=0,s=0;for(o=0;o<t;o++){const t=e.items[o];s+=(a=(i-t)/r,Math.exp(-.5*a*a)/n)}var a;return s/r/t}}function r(e,n,t){const r=n-1,i=n=>{const i=n*r,o=Math.floor(i),s=i-o,a=e[o];return 0===s?a:t(a,e[Math.min(o+1,r)],s)};return{q1:i(.25),median:i(.5),q3:i(.75)}}function i(e,n=e.length){return r(e,n,((e,n,t)=>e+t*(n-e)))}function o(e,n=e.length){const t=n,r=Math.floor((t+3)/2)/2,i=n=>.5*(e[Math.floor(n)-1]+e[Math.ceil(n)-1]);return{q1:i(r),median:i((t+1)/2),q3:i(t+1-r)}}function s(e,n,t,r,{eps:i,quantiles:o,coef:s,whiskersMode:a}){const u=(e,n)=>Math.abs(e-n)<i,{median:l,q1:m,q3:c}=o(e,n),f=c-m,h="number"==typeof s&&s>0;let N=h?Math.max(t,m-s*f):t,g=h?Math.min(r,c+s*f):r;const d=[];for(let t=0;t<n;t+=1){const n=e[t];if(n>=N||u(n,N)){"nearest"===a&&(N=n);break}0!==d.length&&u(d[d.length-1],n)||d.push(n)}const q=[];for(let t=n-1;t>=0;t-=1){const n=e[t];if(n<=g||u(n,g)){"nearest"===a&&(g=n);break}0!==q.length&&u(q[q.length-1],n)||0!==d.length&&u(d[d.length-1],n)||q.push(n)}return{median:l,q1:m,q3:c,iqr:f,outlier:d.concat(q.reverse()),whiskerHigh:g,whiskerLow:N}}function a(e,n){let t=0;for(let r=0;r<n;r++){t+=e[r]}t/=n;let r=0;for(let i=0;i<n;i++){const n=e[i];r+=(n-t)*(n-t)}return r/=n,{mean:t,variance:r}}function u(e,n={}){const r={coef:1.5,eps:.01,quantiles:i,validAndSorted:!1,whiskersMode:"nearest",...n},{missing:o,s:u,min:l,max:m}=r.validAndSorted?function(e){return 0===e.length?{min:Number.NaN,max:Number.NaN,missing:0,s:[]}:{min:e[0],max:e[e.length-1],missing:0,s:e}}(e):function(e){let n=0;const{length:t}=e,r=e instanceof Float64Array?new Float64Array(t):new Float32Array(t);for(let i=0;i<t;i+=1){const t=e[i];null==t||Number.isNaN(t)||(r[n]=t,n+=1)}const i=t-n;if(0===n)return{min:Number.NaN,max:Number.NaN,missing:i,s:[]};const o=n===t?r:r.subarray(0,n);return o.sort(((e,n)=>e===n?0:e<n?-1:1)),{min:o[0],max:o[o.length-1],missing:i,s:o}}(e),c={min:Number.NaN,max:Number.NaN,mean:Number.NaN,missing:o,iqr:Number.NaN,count:e.length,whiskerHigh:Number.NaN,whiskerLow:Number.NaN,outlier:[],median:Number.NaN,q1:Number.NaN,q3:Number.NaN,variance:0,items:[],kde:()=>0},f=e.length-o;if(0===f)return c;const h={min:l,max:m,count:e.length,missing:o,items:u,...a(u,f),...s(u,f,l,m,r)};return{...h,kde:t(h)}}e.boxplot=u,e.default=u,e.kde=t,e.quantilesFivenum=o,e.quantilesHigher=function(e,n=e.length){return r(e,n,((e,n)=>n))},e.quantilesHinges=function(e,n=e.length){return o(e,n)},e.quantilesInterpolate=r,e.quantilesLinear=function(e,n=e.length){return r(e,n,((e,n,t)=>e+(n-e)*t))},e.quantilesLower=function(e,n=e.length){return r(e,n,(e=>e))},e.quantilesMidpoint=function(e,n=e.length){return r(e,n,((e,n)=>.5*(e+n)))},e.quantilesNearest=function(e,n=e.length){return r(e,n,((e,n,t)=>t<.5?e:n))},e.quantilesType7=i,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.min.js.map
